(()=>{"use strict";var e={973:(e,t,i)=>{i.r(t)},304:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldModal=void 0;const s=i(311),n=Garnish.Modal.extend({$body:null,$content:null,$main:null,$footer:null,$leftButtons:null,$rightButtons:null,$deleteBtn:null,$saveBtn:null,$saveCopyBtn:null,$cancelBtn:null,$saveSpinner:null,$deleteSpinner:null,$loadSpinner:null,$html:null,$js:null,$css:null,$currentHtml:null,$currentJs:null,$currentCss:null,$observed:null,observer:null,executedJs:null,loadedCss:null,templateLoaded:!1,_layoutTypes:null,init(e){this.base(),this.setSettings(e,{resizable:!0}),this.$currentHtml=s(),this.$currentJs=s(),this.$currentCss=s(),this.$observed=s(),this.executedJs={},this.loadedCss={},this._layoutTypes={},this.observer=new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.$observed=this.$observed.add(e[t].addedNodes)}));const t=s('<form class="modal quick-field-modal" style="display: none; opacity: 0;">').appendTo(Garnish.$bod);this.$body=s('<div class="body">').appendTo(t),this.$content=s('<div class="content">').appendTo(this.$body),this.$main=s('<div class="main">').appendTo(this.$content),this.$footer=s('<div class="footer">').appendTo(t),this.$loadSpinner=s('<div class="spinner big">').appendTo(t),this.$leftButtons=s('<div class="buttons left">').appendTo(this.$footer),this.$rightButtons=s('<div class="buttons right">').appendTo(this.$footer),this.$deleteBtn=s('<a class="delete error hidden">').text(Craft.t("quick-field","Delete")).appendTo(this.$leftButtons),this.$deleteSpinner=s('<div class="spinner hidden">').appendTo(this.$leftButtons),this.$cancelBtn=s('<div class="btn disabled" role="button">').text(Craft.t("quick-field","Cancel")).appendTo(this.$rightButtons),this.$saveBtn=s('<div class="btn submit disabled" role="button">').text(Craft.t("quick-field","Save")).appendTo(this.$rightButtons),this.$saveCopyBtn=s('<div class="btn submit disabled hidden" role="button">').text(Craft.t("quick-field","Save as a new field")).appendTo(this.$rightButtons),this.$saveSpinner=s('<div class="spinner hidden">').appendTo(this.$rightButtons),this.setContainer(t)},initTemplate(e){if(this.templateLoaded)return;const t=e=>{this.$html=e.$html,this.$js=e.$js,this.$css=e.$css,this.templateLoaded=!0,this.initListeners(),this.visible&&this.initSettings(),this.off("parseTemplate",t)};this.on("parseTemplate",t),this.parseTemplate(e)},parseTemplate(e){const t=Garnish.$doc.find("head"),i=s(e.html),n=s(e.js).filter("script"),d=s(e.css).filter("style, link"),a=d.filter("link").prop("async",!0),l=d.filter("style");a.each(((e,i)=>{const n=s(i),d=n.prop("href");void 0===this.loadedCss[d]&&(t.append(n),this.loadedCss[d]=n)}));const o=n.filter("[src]"),r=n.filter(":not([src])"),h=[];o.each(((e,t)=>{const i=s(t).prop("src");void 0===this.executedJs[i]&&(h.push(i),this.executedJs[i]=!0)}));const u=()=>{this.off("runExternalScripts",u),this.trigger("parseTemplate",{target:this,$html:i,$js:r,$css:l})};this.on("runExternalScripts",u),this.runExternalScripts(h)},runExternalScripts(e){let t=e.length;if(t>0)for(let i=0;i<e.length;i++){const n=e[i];s.getScript(n).done(((e,i)=>{"success"===i?(t--,0===t&&this.trigger("runExternalScripts",{target:this})):Craft.cp.displayError(Craft.t("quick-field","Could not load all resources."))})).catch((()=>Craft.cp.displayError(Craft.t("quick-field","Could not load all resources."))))}else this.trigger("runExternalScripts",{target:this})},initListeners(){this.$cancelBtn.removeClass("disabled"),this.$saveBtn.removeClass("disabled"),this.$saveCopyBtn.removeClass("disabled"),this.addListener(this.$cancelBtn,"activate","closeModal"),this.addListener(this.$saveBtn,"activate","saveField"),this.addListener(this.$saveCopyBtn,"activate","saveField"),this.addListener(this.$deleteBtn,"activate","deleteField"),this.on("show",this.initSettings),this.on("fadeOut",this.destroySettings),this.enable()},destroyListeners(){this.$cancelBtn.addClass("disabled"),this.$saveBtn.addClass("disabled"),this.$saveCopyBtn.addClass("disabled"),this.removeListener(this.$cancelBtn,"activate"),this.removeListener(this.$saveBtn,"activate"),this.removeListener(this.$saveCopyBtn,"activate"),this.removeListener(this.$deleteBtn,"activate"),this.off("show",this.initSettings),this.off("fadeOut",this.destroySettings),this.disable()},initSettings(e){var t,i,n,d;const a=null!==(t=null==e?void 0:e.target)&&void 0!==t?t:this;if(!a.templateLoaded)return;a.$currentHtml=null!==(i=null==e?void 0:e.$html)&&void 0!==i?i:a.$html.clone(),a.$currentJs=null!==(n=null==e?void 0:e.$js)&&void 0!==n?n:a.$js.clone(),a.$currentCss=null!==(d=null==e?void 0:e.$css)&&void 0!==d?d:a.$css.clone(),a.$observed=s(),a.observer.observe(Garnish.$bod[0],{childList:!0,subtree:!1}),a.$main.append(a.$currentHtml),Garnish.$bod.append(a.$currentJs);const l=a.$main.find('input[name="qf[fieldId]"]');a.$deleteBtn.toggleClass("hidden",0===l.length),Craft.initUiElements();const o=()=>{a.off("runExternalScripts",o),setTimeout((()=>a.observer.disconnect()),1)};a.on("runExternalScripts",o),a.runExternalScripts(Object.keys(a.executedJs))},destroySettings(e){var t;const i=null!==(t=null==e?void 0:e.target)&&void 0!==t?t:this;i.$currentHtml.remove(),i.$currentJs.remove(),i.$currentCss.remove(),i.$observed.remove(),i.$deleteBtn.addClass("hidden")},closeModal(){this.hide()},editField(e){this.destroyListeners(),this.show(),this.initListeners(),this.$loadSpinner.removeClass("hidden");const t={fieldId:e};Craft.sendActionRequest("POST","quick-field/actions/edit-field",{data:t}).then((e=>{const t=e=>{this.destroySettings(),this.initSettings(e),this.$saveCopyBtn.removeClass("hidden"),this.off("parseTemplate",t)};this.on("parseTemplate",t),this.parseTemplate(e.data.template)})).catch((e=>{var t;Craft.cp.displayError(null!==(t=e.error)&&void 0!==t?t:Craft.cp.displayError(Craft.t("quick-field","An unknown error occurred."))),this.hide()})).finally((()=>this.$loadSpinner.addClass("hidden")))},saveField(e){if(null==e||e.preventDefault(),this.$saveBtn.hasClass("disabled")||!this.$saveSpinner.hasClass("hidden"))return;this.destroyListeners(),this.$saveSpinner.removeClass("hidden");const t=this.$saveCopyBtn.is(null==e?void 0:e.target),i=this.$container.find('input[name="qf[fieldId]"]');t&&i.val("");const s=this.$container.serialize(),n=!t&&i.length>0?i.val():null;Craft.sendActionRequest("POST","quick-field/actions/save-field",{data:s}).then((e=>{this.initListeners();const t={target:this,field:e.data.field,elementSelectors:e.data.elementSelectors,selectorHtml:e.data.selectorHtml};null===n?(this.trigger("newField",t),Craft.cp.displayNotice(Craft.t("quick-field","New field created."))):(this.trigger("saveField",t),Craft.cp.displayNotice(Craft.t("quick-field","'{name}' field saved.",{name:e.data.field.name}))),this.hide()})).catch((({response:e})=>{var t,i;if(null!==(null!==(i=null===(t=e.data)||void 0===t?void 0:t.template)&&void 0!==i?i:null))if(this.visible){const t=e=>{this.initListeners(),this.destroySettings(),this.initSettings(e),this.off("parseTemplate",t)};this.on("parseTemplate",t),this.parseTemplate(e.data.template),Garnish.shake(this.$container)}else this.initListeners();else this.initListeners(),Craft.cp.displayError(Craft.t("quick-field","An unknown error occurred."))})).finally((()=>this.$saveSpinner.addClass("hidden")))},deleteField(e){if(null==e||e.preventDefault(),!this.$deleteBtn.hasClass("disabled")&&this.$deleteSpinner.hasClass("hidden")&&this.promptForDelete()){this.destroyListeners(),this.$deleteSpinner.removeClass("hidden");const e=this.$container.find('input[name="qf[fieldId]"]'),t=e.length>0?e.val():null;if(null===t)return void Craft.cp.displayError(Craft.t("quick-field","An unknown error occurred."));const i={fieldId:t};Craft.sendActionRequest("POST","quick-field/actions/delete-field",{data:i}).then((e=>{this.initListeners(),this.trigger("deleteField",{target:this,field:e.data.field}),Craft.cp.displayNotice(Craft.t("quick-field","'{name}' field deleted.",{name:e.data.field.name})),this.hide()})).catch((e=>{var t;Craft.cp.displayError(null!==(t=e.error)&&void 0!==t?t:Craft.cp.displayError(Craft.t("quick-field","An unknown error occurred."))),this.hide()})).finally((()=>this.$deleteSpinner.addClass("hidden")))}},promptForDelete:()=>confirm(Craft.t("quick-field","Are you sure you want to delete this field?")),addLayoutType(e){void 0===this._layoutTypes[e]||0===this._layoutTypes[e]?(this._layoutTypes[e]=1,s(`<input type="hidden" name="qf[layoutTypes][]" value="${e}">`).prependTo(this.$container)):this._layoutTypes[e]++},removeLayoutType(e){void 0!==this._layoutTypes[e]&&this._layoutTypes[e]>0&&(this._layoutTypes[e]--,0===this._layoutTypes[e]&&this.$container.find(`input[name="qf[layoutTypes][]"][value="${e}"]`).remove())},hide(){this._disabled||(this.base(),setTimeout((()=>this.$saveCopyBtn.addClass("hidden")),200))},destroy(){this.base(),this.destroyListeners(),this.destroySettings(),this.$shade.remove(),this.$container.remove(),this.trigger("destroy")}});t.FieldModal=n},363:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupDialog=void 0;const i=Garnish.Base.extend({addNewGroup(){this._saveGroup(null,"",this._triggerGroupUpdateEvent("newGroup"))},renameGroup(e,t){this._saveGroup(e,t,this._triggerGroupUpdateEvent("renameGroup"))},_saveGroup(e,t,i){const s=this.promptForGroupName(t);if(null!==s&&""!==s&&s!==t){const n={name:s,id:e};Craft.sendActionRequest("POST","fields/save-group",{data:n}).then((e=>i(this,e.data.group,t))).catch((({response:e})=>{var t,i;if(Object.keys(null!==(i=null===(t=e.data)||void 0===t?void 0:t.errors)&&void 0!==i?i:{}).length>0){const t=this._flattenErrors(e.data.errors);alert(`${Craft.t("quick-field","Could not save the group:")}\n\n${t.join("\n")}`)}else Craft.cp.displayError(Craft.t("quick-field","An unknown error occurred."))}))}},_triggerGroupUpdateEvent:e=>(t,i,s)=>{t.trigger(e,{target:t,group:i,oldName:s})},deleteGroup(e){if(confirm(Craft.t("quick-field","Are you sure you want to delete this group and all its fields?"))){const t={id:e.id};Craft.sendActionRequest("POST","fields/delete-group",{data:t}).then((t=>this.trigger("deleteGroup",{group:e}))).catch((e=>Craft.cp.displayError(Craft.t("quick-field","Could not delete the group."))))}},promptForGroupName:e=>prompt(Craft.t("quick-field","What do you want to name the group?"),e),_flattenErrors:e=>Object.keys(e).reduce(((t,i)=>t.concat(e[i])),[])});t.GroupDialog=i},451:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0,function(e){e[e.UNLOADED=0]="UNLOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(i||(i={}));const s=Garnish.Base.extend({loadStatus:null,init(){this.loadStatus=i.UNLOADED,this.load()},load(){this.loadStatus===i.UNLOADED&&(this.loadStatus=i.LOADING,Craft.sendActionRequest("POST","quick-field/actions/load",{}).then((e=>{this.loadStatus=i.LOADED,this.trigger("load",{template:e.data.template,groups:e.data.groups})})).catch((e=>{this.loadStatus=i.UNLOADED,this.trigger("unload")})))},isUnloaded(){return this.loadStatus===i.UNLOADED}});t.Loader=s},182:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QuickField=void 0;const s=i(311),n=i(304),d=i(363),a=i(451);class l{constructor(e,t,i){this.component=t,this.data=i,this._action=e}get action(){return this._action}}class o extends l{constructor(e,t,i){super(e,t,i),this.component=t,this.data=i}}class r extends l{constructor(e,t,i){super(e,t,i),this.component=t,this.data=i}}var h;!function(e){e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e[e.REMOVE=2]="REMOVE"}(h||(h={}));class u{constructor(e,t){this._quickField=e,this.fld=t,this.fld.$container.addClass("quick-field"),this.$container=s('<div class="newfieldbtn-container btngroup small fullwidth">').prependTo(t.$fieldLibrary),this.$groupButton=s('<div class="btn small add icon" tabindex="0">').text(Craft.t("quick-field","New Group")).appendTo(this.$container),this.$fieldButton=s('<div class="btn small add icon" tabindex="0">').text(Craft.t("quick-field","New Field")).appendTo(this.$container),this._replacePlaceholder={},this._groupObserver=new window.MutationObserver((()=>{this.fld.$fieldGroups.filter((function(){var e;return null!==(e=s(this).data("id"))&&void 0!==e&&e})).removeClass("hidden")})),this._groupObserver.observe(this.fld.$fieldLibrary[0],{attributes:!0,childList:!0,subtree:!0})}getType(){return this._type}setType(e){this._type=e}attachFieldButton(){this.$fieldButton.appendTo(this.$container)}detachFieldButton(){this.$fieldButton.detach()}addFieldEditButtons(){const e=(e,t)=>this._quickField.addFieldEditButton(s(t));this.fld.$fields.filter(".unused[data-id]").each(e),this.fld.$tabContainer.find(".fld-field[data-id]").each(e)}addGroupMenus(){this.fld.$fieldGroups.filter((function(){return s(this).find(".fld-field[data-id]").length>0})).each(((e,t)=>this._addGroupMenu(s(t))))}_addGroupMenu(e){const t=s(`<button class="qf-settings icon menubtn" title="${Craft.t("quick-field","Settings")}" role="button" type="button"></button>`),i=s(`\n      <div class="menu">\n        <ul class="padded">\n          <li><a data-icon="edit" data-action="rename">${Craft.t("quick-field","Rename")}</a></li>\n          <li><a class="error" data-icon="remove" data-action="delete">${Craft.t("quick-field","Delete")}</a></li>\n        </ul>\n      </div>\n    `);e.prepend(i).prepend(t),new Garnish.MenuBtn(t).on("optionSelect",(t=>{switch(s(t.option).attr("data-action")){case"rename":this._quickField.openRenameGroupDialog(e);break;case"delete":this._quickField.openDeleteGroupDialog(e)}}))}addGroupIdData(e){for(let t=e.length-1;t>=0;t--){const i=e[t];let s=this._getGroupByName(i.name);0===s.length?(this.addGroup(i,!1),s=this._getGroupByName(i.name)):s.removeClass("hidden"),s.data("id",i.id)}this._resetFldGroups()}addField(e,t){if(this.fld.$fields.filter(`.fld-field[data-id="${e.id}"]`).length>0)return;const i=this._getGroupByName(e.group.name);if(null===i)throw new Error("Invalid field group: {groupName}");this._insertFieldElementIntoGroup(e,t,i)}removeField(e){const t=`.fld-field[data-id="${e}"]`,i=this.fld,s=i.$fields,n=s.filter(t).add(i.$tabContainer.find(t));n.length>0&&(n.remove(),i.$fields=s.not(n),i.elementDrag.removeItems(n))}resetField(e,t,i){const s=this.fld,n=this._getGroupByName(e.group.name),d=s.$fields.filter(`[data-id="${e.id}"]`);s.elementDrag.removeItems(d),d.remove(),this._insertFieldElementIntoGroup(e,t,n),this._updateFldField(e,i)}_updateFldField(e,t){const i=this.fld.$tabContainer.find(`.fld-field[data-id="${e.id}"]`);if(0===i.length)return;const n=i.find(".fld-required-indicator").detach(),d=i.data("fld-element");d.$editBtn.detach(),void 0!==this._replacePlaceholder[e.id]&&d.off("createSettings.qf",this._replacePlaceholder[e.id]),this._replacePlaceholder[e.id]=function(){var t;null===(t=this.slideout)||void 0===t||t.$container.find('input[name$="[label]"').attr("placeholder",e.name)}.bind(d),d.on("createSettings.qf",this._replacePlaceholder[e.id]),this._replacePlaceholder[e.id](),i.data("attribute",e.handle).html(s(t).html()),n.appendTo(i.find(".fld-element-label")),d.initUi()}addGroup(e,t){if(this._getGroupByName(e.name).length>0)return;const i=e.name,n=i.toLowerCase(),d=s(`\n      <div class="fld-field-group" data-name="${n}">\n        <h6>${i}</h6>\n      </div>`);this._addGroupMenu(d),this._attachGroup(d,t),this._getGroupByName(e.name).data("id",e.id)}renameGroup(e,t){const i=this._getGroupByName(t);if(i.length>0){const t=e.name,s=t.toLowerCase();i.detach().attr("data-name",s).data("name",s).children("h6").text(t),this._attachGroup(i,!0)}}removeGroup(e){const t=this.fld,i=t.$fieldGroups.filter((function(){return s(this).data("id")===e})),n=i.find(".fld-field.hidden").map(((e,t)=>`[data-id="${s(t).data("id")}"]`)).get().join(",");t.$tabContainer.find(".fld-field").filter(n).remove(),i.remove(),this._resetFldGroups()}_insertFieldElementIntoGroup(e,t,i){const n=this.fld,d=s(t),a=e.name.toLowerCase();let l=i.children(".fld-element").filter((function(){return s(this).find("h4").text().toLowerCase()<a})).last();0===l.length&&(l=i.children("h6")),d.insertAfter(l),n.elementDrag.addItems(d),this._quickField.addFieldEditButton(d),n.$fields=n.$fieldGroups.children(".fld-element")}_attachGroup(e,t){var i;const n=this.fld,d=null!==(i=e.attr("data-name"))&&void 0!==i?i:"";let a=n.$fieldGroups.filter((function(){const e=s(this);return e.is(":first-of-type")||e.data("name")<d})).last();0===a.length&&(a=n.$fieldSearch.parent()),e.insertAfter(a),t&&this._resetFldGroups()}_resetFldGroups(){this.fld.$fieldGroups=this.fld.$sidebar.find(".fld-field-group")}_getGroupByName(e){return this.fld.$sidebar.find(".fld-field-group").filter(`[data-name="${e.toLowerCase()}"]`)}}const c=Garnish.Base.extend({dialog:null,modal:null,loader:null,_layouts:null,_history:null,_initialGroups:null,init(){let e=!0;this._layouts=[],this._history=[],this.dialog=new d.GroupDialog,this.modal=new n.FieldModal,this.loader=new a.Loader,this.dialog.on("newGroup",(t=>{const i=t.group;this._addGroup(i,!0),this.loader.isUnloaded()?this.loader.load():e||(this._layouts.forEach((e=>e.attachFieldButton())),e=!0)})),this.dialog.on("renameGroup",(e=>this._renameGroup(e.group,e.oldName))),this.dialog.on("deleteGroup",(t=>{this._removeGroup(t.group),this._layouts.forEach((t=>{0===t.fld.$fieldGroups.not(".hidden").length&&(t.detachFieldButton(),e=!1)}))})),this.modal.on("newField",(e=>this._addField(e.field,e.elementSelectors))),this.modal.on("saveField",(e=>this._resetField(e.field,e.elementSelectors,e.selectorHtml))),this.modal.on("deleteField",(e=>this._removeField(e.field))),this.modal.on("destroy",(()=>{this._layouts.forEach((e=>e.detachFieldButton())),e=!1})),this.loader.on("load",(t=>{this.modal.$loadSpinner.addClass("hidden"),this.modal.initTemplate(t.template),this._layouts.forEach((e=>e.addGroupIdData(t.groups))),this._initialGroups=t.groups,e||(this._layouts.forEach((e=>e.$fieldButton.appendTo(e.$container))),e=!0)})),this.loader.on("unload",(()=>this.modal.destroy()))},addFld(e){const t=new u(this,e);this._layouts.push(t),this.addListener(t.$groupButton,"activate","_newGroup"),this.addListener(t.$fieldButton,"activate","_newField"),t.addFieldEditButtons(),t.addGroupMenus(),null!==this._initialGroups&&t.addGroupIdData(this._initialGroups);const i=e.$uiLibraryElements.filter('[data-type="craft-fieldlayoutelements-Heading"]').data("settings-html").match(/elementType&quot;:&quot;([a-zA-Z\\]+)&quot;,&quot;sourceKey/g),s=i[i.length-1].split("&quot;")[2].replaceAll("\\\\","\\");this.modal.addLayoutType(s),t.setType(s),this._history.forEach((e=>{var i,n,d,a,l,u,c,p;if(e instanceof o)switch(e.action){case h.ADD:t.addField(e.component,null!==(n=null===(i=e.data)||void 0===i?void 0:i.elementSelectors[s])&&void 0!==n?n:"");break;case h.EDIT:t.resetField(e.component,null!==(a=null===(d=e.data)||void 0===d?void 0:d.elementSelectors[s])&&void 0!==a?a:"",null!==(u=null===(l=e.data)||void 0===l?void 0:l.selectorHtml)&&void 0!==u?u:"");break;case h.REMOVE:t.removeField(e.component.id)}else if(e instanceof r)switch(e.action){case h.ADD:t.addGroup(e.component,!0);break;case h.EDIT:t.renameGroup(e.component,null!==(p=null===(c=e.data)||void 0===c?void 0:c.oldName)&&void 0!==p?p:"");break;case h.REMOVE:t.removeGroup(e.component.id)}}))},addFieldEditButton(e){const t=s('<a class="qf-edit icon" title="Edit"></a>');this.addFieldEditButtonListener(t),e.append(t)},addFieldEditButtonListener(e){this.addListener(e,"activate","_editField")},_newField(){this.modal.show()},_editField(e){const t=s(e.target).parent().data("id");this.modal.editField(t)},_addField(e,t){try{this._layouts.forEach((i=>{const s=i.getType();i.addField(e,t[s])})),this._history.push(new o(h.ADD,e,{elementSelectors:t}))}catch(t){Craft.cp.displayError(Craft.t("quick-field",t.message,{groupName:e.group.name}))}},_removeField(e){this._layouts.forEach((t=>t.removeField(e.id))),this._history.push(new o(h.REMOVE,e))},_resetField(e,t,i){this._layouts.forEach((s=>{const n=s.getType();s.resetField(e,t[n],i)})),this._history.push(new o(h.EDIT,e,{elementSelectors:t,selectorHtml:i}))},_newGroup(){this.dialog.addNewGroup()},_addGroup(e,t){this._layouts.forEach((i=>i.addGroup(e,t))),this._history.push(new r(h.ADD,e)),null!==this.modal.$html&&this._addOptionToGroupSelect(s(`<option value="${e.id}">${e.name}</option>`),this.modal.$html.find("#qf-group"),e.name)},openRenameGroupDialog(e){const t=e.data("id"),i=e.children("h6").text();this.dialog.renameGroup(t,i)},_renameGroup(e,t){this._layouts.forEach((i=>i.renameGroup(e,t))),this._history.push(new r(h.EDIT,e,{oldName:t}));const i=this.modal.$html.find("#qf-group"),n=i.children().filter((function(){return s(this).text()===t})).detach().text(e.name);this._addOptionToGroupSelect(n,i,e.name)},_addOptionToGroupSelect(e,t,i){const n=t.children().filter((function(){return s(this).text().toLowerCase()<i.toLowerCase()})).last();n.length>0?e.insertAfter(n):e.prependTo(t)},openDeleteGroupDialog(e){const t={id:e.data("id"),name:e.children("h6").text()};this.dialog.deleteGroup(t)},_removeGroup(e){this._layouts.forEach((t=>t.removeGroup(e.id))),this._history.push(new r(h.REMOVE,e)),this.modal.$html.find("#qf-group").children(`[value="${e.id}"]`).remove()}});t.QuickField=c},311:e=>{e.exports=jQuery}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var d=t[s]={exports:{}};return e[s](d,d.exports,i),d.exports}i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=i(182);i(973),window.QuickField=new e.QuickField;const t=Craft.FieldLayoutDesigner,s=t.prototype.init,n=t.Element,d=n.prototype.initUi;t.prototype.init=function(){s.apply(this,arguments),this.$container.is(".layoutdesigner")&&window.QuickField.addFld(this)},n.prototype.initUi=function(){if(d.apply(this,arguments),this.$container.is(".fld-field[data-id]")){const e=this.$container.find(".qf-edit");e.length>0?window.QuickField.addFieldEditButtonListener(e):window.QuickField.addFieldEditButton(this.$container)}}})()})();
//# sourceMappingURL=main.js.map